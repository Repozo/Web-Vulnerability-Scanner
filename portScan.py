from commonPorts import commonPortsDict
global resultPorts
resultPorts=['sample']
resultPorts.clear()
def portscan(port,target):
    import threading
    import socket
    #dictionary of common ports and services
    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.settimeout(0.5)
    try:
        con = s.connect((target,port))
        resultPorts.append(commonPortsDict[port])
        con.close()
    except:
        pass
def portScanner2(fullip):
    import threading
    import socket
    resultPorts.clear()
    #list of common ports
    commonPorts=list(commonPortsDict.keys())
    for x in commonPorts:
         t = threading.Thread(target=portscan,kwargs={'port':x,'target':fullip})
         t.start()
    t.join()
    return resultPorts



